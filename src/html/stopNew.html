<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
		<title>新建报停单</title>
		<link rel="stylesheet" href="../css/public.css" />
		<link rel="stylesheet" href="../css/stopNew.css" />
	</head>
	<body>
		<header>
			<div id="left" class="lefts">取消</div>
			<div id="new" class="imp">新建报停单</div>
		</header>
		
		<div class="writes">
			<ul>
				<li><span>出厂编号</span><input type="text" placeholder="（必填）"></li>
				<li><span>报停天数</span><input type="text" placeholder="（必填）" class="days"><i>天</i></li>
				<li><span>报停开始时间</span><input type="date" placeholder="（必填）"class="times"></li>
				<li><span>报停结束日期</span><input type="text" placeholder="自动计算" class="times1" readonly></li>
				
			</ul>
			<textarea placeholder="报停事由:（必填）">报停事由（必填）</textarea>
		</div>
		
		<div class="autos">
			<ul>
				<li><span>合同编号</span><i></i></li>
				<li><span>客户名称</span><i></i></li>
				<li><span>项目名称</span><i></i></li>
				<li><span>型号</span><i></i></li>
				<li><span>门店</span><i>回显</i></li>	
			</ul>
		</div>
		
		<div class="last">
			<span>上传附件</span>
		</div>
		<button class="ok">确 定</button>
	</body>
</html>
<script type="text/javascript" src="../js/public.js" ></script>
<script type="text/javascript" src="../js/stopNew.js" ></script>
<script>
	var ok= document.getElementsByClassName("ok")[0];
	ok.onclick=function(){
	window.location.href="stop.html";
	}
	/*-----------------日期自动添加-----------------*/
	var times = document.getElementsByClassName("times")[0];
	var days = document.getElementsByClassName("days")[0];
	var times1 =document.getElementsByClassName("times1")[0];
	times.onchange=function(){
			endDate();
	}
	days.oninput=function(){
		endDate();
	}
	
	function endDate(){
			if(times.value!=""){
			
			var str =times.value;
			var arr =str.split("-");
			//console.log(arr);
			var myDate=new Date(arr[0],arr[1]-1,arr[2]);	
			if(typeof(parseInt(days.value))){
				myDate.setDate(myDate.getDate() + parseInt((days.value)));
				var mth =parseInt(myDate.getMonth()+1);
				if(mth<10){
					mth ="0"+mth;
				}
				var dd =parseInt(myDate.getDate());
				if(dd<10){
					dd ="0"+dd;
				}
				var y= myDate.getFullYear()+"-"+mth+"-"+dd;
				times1.value=y;
			}
		
		}
	}
	
	
	
	
</script>


